

<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title></title>
  <script src='https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.css' rel='stylesheet' />
  <style>
    body {
      margin: 0;
      padding :0;
    }
    .map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>
<div id='map-one' class='map'> </div>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYmdhLXBqdWRnZSIsImEiOiJjamEwZTZ5amYxcTBzMzNwb3d2MGkwb2U2In0.qQkt0JT17QbwQmC9LINEcA';
var mapOne = L.mapbox.map('map-one', 'mapbox.light')
  .setView([41.2, -89.4], 7);
var myLayer = L.mapbox.featureLayer().addTo(mapOne);

var geojson = [
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-88.229012,41.24283]
    },
    properties: {
      title: "Braidwood",
      description: "Braceville, IL. Licensed since 07/02/87. 4 accidental releases reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  },
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-89.281149,42.076738]
    },
    properties: {
      "title": "Byron",
      "description": "Byron, IL. Licensed since 02/14/85. 1 accidental release reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  },
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-88.833191,40.172843]
    },
    properties: {
      "title": "Clinton",
      "description": "Clinton, IL. Licensed since 04/17/87. No accidental releases reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  },
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-88.269092,41.388599]
    },
    properties: {
      "title": "Dresden",
      "description": "Morris, IL. Licensed since 1960. 27 accidental releases reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  },
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-88.669195,41.245738]
    },
    properties: {
      "title": "LaSalle",
      "description": "Marseilles, IL. Licensed since 04/17/82. 1 accidental release reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  },
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [ -90.310589,41.725918]
    },
    properties: {
      "title": "Quad Cities",
      "description": "Cordova, IL. Licensed since 12/14/72. 2 accidental releases reported since 2007.",
      icon: {
        iconUrl: 'nukes_power_icon.png',
        iconSize: [40, 40], // size of the icon
        iconAnchor: [20, 20], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -20], // point from which the popup should open relative to the iconAnchor
        className: 'dot'
      }
    }
  }
];
myLayer.on('layeradd', function(e) {
  var marker = e.layer,
    feature = marker.feature;
  marker.setIcon(L.icon(feature.properties.icon));
});
myLayer.setGeoJSON(geojson);
mapOne.scrollWheelZoom.disable();
</script>
</body>
</html>

